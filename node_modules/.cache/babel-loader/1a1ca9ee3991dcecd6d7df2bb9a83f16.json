{"ast":null,"code":"import _regeneratorRuntime from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from'react';import{IonHeader,IonToolbar,IonTitle,IonContent,IonList,IonIcon,IonAlert,IonTabs,IonTabBar,IonTabButton,IonRouterOutlet,IonLabel,IonRefresher,IonRefresherContent,IonSpinner,IonFooter}from'@ionic/react';import{chevronForward,wifiOutline,bluetoothOutline}from'ionicons/icons';import'./index.css';import{isPlatform}from'@ionic/react';import{BluetoothLE}from'@ionic-native/bluetooth-le';var Main=/*#__PURE__*/function(_React$Component){_inherits(Main,_React$Component);var _super=_createSuper(Main);function Main(){_classCallCheck(this,Main);return _super.apply(this,arguments);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){var a=new scanForDevices(BluetoothLE);a.bluetoothInitialize();a.scan(10);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(IonContent,{class:\"main-page\"},/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,{class:\"main-toolbar\"},/*#__PURE__*/React.createElement(IonTitle,{class:\"main-toolbar-title\",size:\"large\"},\"Select A Device\"),/*#__PURE__*/React.createElement(IonIcon,{icon:chevronForward,class:\"next-button\",slot:\"end\"}))),/*#__PURE__*/React.createElement(IonSpinner,{class:\"single-refresh-spinner\"}),/*#__PURE__*/React.createElement(IonContent,{class:\"mid-content\"},/*#__PURE__*/React.createElement(IonList,{class:\"device-list\"}),/*#__PURE__*/React.createElement(IonRefresher,{slot:\"fixed\"},/*#__PURE__*/React.createElement(IonRefresherContent,{pullingText:\"Pull to refresh\",refreshingText:\"Refreshing...\"}))),/*#__PURE__*/React.createElement(IonFooter,{class:\"main-footer\"},/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTabs,null,/*#__PURE__*/React.createElement(IonRouterOutlet,null),/*#__PURE__*/React.createElement(IonTabBar,{slot:\"bottom\",class:\"tab-bar\"},/*#__PURE__*/React.createElement(IonTabButton,{tab:\"Wifi\",href:\"/scan-devices/wifi\",disabled:true},/*#__PURE__*/React.createElement(IonIcon,{icon:wifiOutline,class:\"button-wifi\"}),/*#__PURE__*/React.createElement(IonLabel,{class:\"button-wifi button-wifi-label\"},\"Wifi\")),/*#__PURE__*/React.createElement(IonTabButton,{tab:\"Bluetooth\",href:\"/scan-devices/bluetooth\"},/*#__PURE__*/React.createElement(IonIcon,{icon:bluetoothOutline,class:\"button-bluetooth\"}),/*#__PURE__*/React.createElement(IonLabel,{class:\"button-bluetooth button-bluetooth-label\"},\"Bluetooth\")))))));}}]);return Main;}(React.Component);;export default Main;export var Alerts=function Alerts(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),continueAlert=_useState2[0],setContinueAlert=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),blNotEnabled=_useState4[0],setBlNotEnabled=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),errorConnecting=_useState6[0],setErrorConnecting=_useState6[1];return/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonAlert,{isOpen:continueAlert,header:'Continue?',message:'Are you sure you want to continue without selecting a device?',buttons:[{text:'Cancel'},{text:'Okay',handler:function handler(){console.log('continue ok');//move to next screen\n}}]}),/*#__PURE__*/React.createElement(IonAlert,{isOpen:blNotEnabled,header:'Error',message:'Bluetooth is not enabled. Please enable Bluetooth and try again.'//make app reload?\n,buttons:[{text:'Settings',handler:function handler(){console.log('opening settings!');//wait for focus, reload app\n}},{text:'Okay',handler:function handler(){console.log('reloading app');//reload app\n}}]}),/*#__PURE__*/React.createElement(IonAlert,{isOpen:errorConnecting,header:'Error',message:'There was an error connecting to the Bluetooth device. Make sure the device is turned on and try again.',buttons:['OK']}));};var scanForDevices=/*#__PURE__*/function(){function scanForDevices(ble){var _this=this;_classCallCheck(this,scanForDevices);this.ble=ble;this.isCordova=void 0;this.scan=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(timeout){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!_this.isCordova){_context.next=7;break;}console.log(\"scanning!\");_this.ble.startScan({\"allowDuplicates\":false,\"isConnectable\":true}).subscribe(function(result){if(result.status===\"scanResult\"){_this.addDevice(result);}else if(result.status!==\"scanStarted\"){_this.checkEnabled();//warn user about not scanning\n}});_context.next=5;return _this.timeout(timeout);case 5:_this.ble.stopScan();console.log(\"stopped scan!\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();this.bluetoothInitialize=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(isPlatform('cordova')){_context2.next=4;break;}console.log(\"Platform not cordova, BLE will not work!\");_this.isCordova=false;return _context2.abrupt(\"return\");case 4:_this.checkEnabled();_context2.next=7;return _this.ble.initialize({\"request\":true,\"statusReceiver\":false,\"restoreKey\":\"magic-light-ble\"}).subscribe(function(result){if(result.status===\"disabled\"){_this.checkEnabled();}});case 7:case\"end\":return _context2.stop();}}},_callee2);}));this.ble=ble;this.isCordova=true;}_createClass(scanForDevices,[{key:\"checkEnabled\",value:function checkEnabled(){this.ble.isEnabled().then(function(isEnabled){if(!isEnabled.isEnabled){console.log(\"bluetooth **not** enabled!\");//tell user about bluetooth (ionalert)\n}});}},{key:\"addDevice\",value:function addDevice(device){var list=document.getElementsByClassName(\"device-list\")[0];//list.appendChild(document.createElement(\"bl-device\"));\n}},{key:\"timeout\",value:function timeout(s){return new Promise(function(resolve){return setTimeout(resolve,s*1000);});}}]);return scanForDevices;}();//https://www.npmjs.com/package/cordova-plugin-bluetoothle\n//startScan => connect => ...\n//                        disconnect => close\n//                        connect => disconnect => close => connect\n//::updating icons::\n//bond/unbond\n//discover","map":{"version":3,"sources":["/Users/everyone/Desktop/iPhone app/magic-light/src/pages/scan-devices/bluetooth/index.tsx"],"names":["React","useState","IonHeader","IonToolbar","IonTitle","IonContent","IonList","IonIcon","IonAlert","IonTabs","IonTabBar","IonTabButton","IonRouterOutlet","IonLabel","IonRefresher","IonRefresherContent","IonSpinner","IonFooter","chevronForward","wifiOutline","bluetoothOutline","isPlatform","BluetoothLE","Main","a","scanForDevices","bluetoothInitialize","scan","Component","Alerts","continueAlert","setContinueAlert","blNotEnabled","setBlNotEnabled","errorConnecting","setErrorConnecting","text","handler","console","log","ble","isCordova","timeout","startScan","subscribe","result","status","addDevice","checkEnabled","stopScan","initialize","isEnabled","then","device","list","document","getElementsByClassName","s","Promise","resolve","setTimeout"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { IonHeader, IonToolbar, IonTitle, IonContent, IonList, IonItem, IonIcon, IonAlert, IonTabs, IonTabBar, IonTabButton, IonRouterOutlet, IonLabel, IonRefresher, IonRefresherContent, IonSpinner, IonFooter} from '@ionic/react';\nimport { chevronForward, wifiOutline, bluetoothOutline } from 'ionicons/icons';\n\nimport './index.css';\n\nimport BluetoothDeviceItem from '../../../components/bluetooth/BluetoothDeviceItem';\nimport { BluetoothDevice } from '../../../interfaces/BluetoothDevice';\n\nimport { isPlatform } from '@ionic/react'\nimport { BluetoothLE } from '@ionic-native/bluetooth-le';\n\nclass Main extends React.Component {\n\n  componentDidMount() {\n    let a = new scanForDevices(BluetoothLE);\n    a.bluetoothInitialize();\n    a.scan(10);\n  }\n\n  componentWillUnmount() {\n  }\n\n  render() {\n    return (\n      <IonContent class=\"main-page\">\n\n        <IonHeader>\n          <IonToolbar class=\"main-toolbar\">\n            <IonTitle class=\"main-toolbar-title\" size=\"large\">Select A Device</IonTitle>\n            <IonIcon icon={chevronForward} class=\"next-button\" slot=\"end\"></IonIcon>\n          </IonToolbar>\n        </IonHeader>\n        <IonSpinner class=\"single-refresh-spinner\"></IonSpinner>\n        \n        <IonContent class=\"mid-content\">\n          <IonList class=\"device-list\">\n          </IonList>\n          <IonRefresher slot=\"fixed\">\n              <IonRefresherContent\n                pullingText=\"Pull to refresh\"\n                refreshingText=\"Refreshing...\">\n              </IonRefresherContent>\n          </IonRefresher>\n        </IonContent>\n\n        <IonFooter class=\"main-footer\">\n          <IonToolbar>\n            <IonTabs>\n              <IonRouterOutlet></IonRouterOutlet>\n              <IonTabBar slot=\"bottom\" class=\"tab-bar\">\n                <IonTabButton tab=\"Wifi\" href=\"/scan-devices/wifi\" disabled={true}>\n                  <IonIcon icon={wifiOutline} class=\"button-wifi\"></IonIcon> \n                  <IonLabel class=\"button-wifi button-wifi-label\">Wifi</IonLabel>\n                </IonTabButton>\n                <IonTabButton tab=\"Bluetooth\" href=\"/scan-devices/bluetooth\">\n                  <IonIcon icon={bluetoothOutline} class=\"button-bluetooth\"></IonIcon>\n                  <IonLabel class=\"button-bluetooth button-bluetooth-label\">Bluetooth</IonLabel>\n\n                </IonTabButton>\n              </IonTabBar>\n            </IonTabs>\n          </IonToolbar>\n        </IonFooter>\n      </IonContent>\n    );\n  };\n};\nexport default Main;\n\nexport const Alerts: React.FC = () => {\n\n  const [continueAlert, setContinueAlert] = useState(false);\n  const [blNotEnabled, setBlNotEnabled] = useState(false);\n  const [errorConnecting, setErrorConnecting] = useState(false);\n\n    return (\n      <IonContent>\n        <IonAlert\n          isOpen={continueAlert}\n          header={'Continue?'}\n          message={'Are you sure you want to continue without selecting a device?'}\n          buttons={[\n            { text: 'Cancel', },\n            {\n              text: 'Okay',\n              handler: () => {\n                console.log('continue ok'); //move to next screen\n              }\n            }\n          ]}\n        />\n        <IonAlert\n          isOpen={blNotEnabled}\n          header={'Error'}\n          message={'Bluetooth is not enabled. Please enable Bluetooth and try again.'} //make app reload?\n          buttons={[\n            {\n              text: 'Settings',\n              handler: () => {\n                console.log('opening settings!'); //wait for focus, reload app\n              }\n            },\n            {\n              text: 'Okay',\n              handler: () => {\n                console.log('reloading app'); //reload app\n              }\n            }\n          ]\n        }\n        />\n        <IonAlert\n          isOpen={errorConnecting}\n          header={'Error'}\n          message={'There was an error connecting to the Bluetooth device. Make sure the device is turned on and try again.'}\n          buttons={['OK']}\n        />\n      </IonContent>\n    );\n}\n\nclass scanForDevices {\n  isCordova: boolean;\n\n  constructor(public ble: typeof BluetoothLE) {\n    this.ble = ble;\n    this.isCordova = true;\n\n   }\n\n   scan = async (timeout) => {\n    if(this.isCordova) {\n      console.log(\"scanning!\");\n\n      this.ble.startScan( {\"allowDuplicates\": false, \"isConnectable\": true}  ).subscribe((result) => {\n        if(result.status === \"scanResult\") {\n          this.addDevice(result);\n        }\n        else if(result.status !== \"scanStarted\") {\n          this.checkEnabled();\n          //warn user about not scanning\n        }\n      });\n\n      await this.timeout(timeout);\n      this.ble.stopScan();\n\n      console.log(\"stopped scan!\");\n    }\n  }\n\n  bluetoothInitialize = async () => {\n    if (!isPlatform('cordova')) {\n      console.log(\"Platform not cordova, BLE will not work!\");\n      this.isCordova = false;\n      return;\n    }\n\n    this.checkEnabled();\n\n    await this.ble.initialize( {\"request\": true, \"statusReceiver\": false, \"restoreKey\": \"magic-light-ble\"} ).subscribe((result) => {\n      if(result.status === \"disabled\") {\n        this.checkEnabled();\n      }\n    });\n  }\n\n  private checkEnabled() {\n    this.ble.isEnabled().then(function(isEnabled) {\n      if(!isEnabled.isEnabled) {\n        console.log(\"bluetooth **not** enabled!\");\n          //tell user about bluetooth (ionalert)\n      }\n    });\n  }\n\n  private addDevice(device) {\n    let list = document.getElementsByClassName(\"device-list\")[0];\n    //list.appendChild(document.createElement(\"bl-device\"));\n  }\n\n  private timeout(s) {\n    return new Promise(resolve => setTimeout(resolve, s*1000));\n  } \n}\n\n//https://www.npmjs.com/package/cordova-plugin-bluetoothle\n\n//startScan => connect => ...\n//                        disconnect => close\n//                        connect => disconnect => close => connect\n//::updating icons::\n\n//bond/unbond\n//discover\n\n"]},"metadata":{},"sourceType":"module"}