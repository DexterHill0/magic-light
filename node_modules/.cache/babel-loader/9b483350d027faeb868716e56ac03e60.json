{"ast":null,"code":"\"use strict\";\n\nvar _jsxFileName = \"/Users/everyone/Desktop/iPhone app/magic-light/src/components/bluetooth/BluetoothDeviceItem.tsx\";\nimport React, { useState } from 'react';\nimport { IonIcon, IonSpinner, IonItem, IonAvatar, IonLabel } from '@ionic/react';\nimport { bluetoothOutline, checkmarkOutline, closeOutline } from 'ionicons/icons';\nimport './BluetoothDeviceItem.css';\nexport const BluetoothDeviceItem = Props => {\n  const [connectingState, setConnectingState] = useState('not_connected');\n\n  const connenct = async () => {\n    setConnectingState('connecting');\n    const ic = document.getElementsByClassName(\"connecting-icons\")[0];\n    const sp = document.getElementsByClassName(\"connecting-spinner\")[0];\n    sp[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"opacity\"] = 0;\n\n    try {\n      await tryConnect();\n    } catch (error) {\n      switchIcon(false, sp, ic);\n    }\n\n    setConnectingState('connected');\n    switchIcon(true, sp, ic);\n  };\n\n  const tryConnect = () => {\n    return new Promise(function (resolve, reject) {\n      console.log(\"connecting...\");\n      setTimeout(function () {\n        resolve(1);\n      }, 1000);\n    });\n  };\n\n  const switchIcon = (connected, sp, ic) => {\n    sp[\"style\"][\"opacity\"] = 0;\n    ic[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"color\"] = connected ? \"var(--ion-color-success)\" : \"var(--ion-color-danger)\";\n    ic[\"icon\"] = connected ? checkmarkOutline : closeOutline;\n  };\n\n  return /*#__PURE__*/React.createElement(IonItem, {\n    lines: \"none\",\n    class: \"item-container\",\n    onClick: connenct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"start\",\n    class: \"bluetooth-icon-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: bluetoothOutline,\n    class: \"bluetooth-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(IonAvatar, {\n    slot: \"end\",\n    class: \"connecting-icons-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IonIcon, {\n    icon: closeOutline,\n    class: \"connecting-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(IonSpinner, {\n    name: \"dots\",\n    class: \"connecting-spinner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(IonLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"device-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, Props.name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"device-mac\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, Props.mac)));\n};\nexport default BluetoothDeviceItem; // class BluetoothDeviceItem extends React.Component<Props, {}> {\n//   render() {\n//     return (\n//       <IonItem lines=\"none\" class=\"item-container\" onClick={this.connenct}>\n//         <IonAvatar slot=\"start\" class=\"bluetooth-icon-container\">\n//           <IonIcon icon={bluetoothOutline} class=\"bluetooth-icon\"></IonIcon>\n//         </IonAvatar>\n//         <IonAvatar slot=\"end\" class=\"connecting-icons-container\">\n//           <IonIcon icon={closeOutline} class=\"connecting-icons\"></IonIcon>\n//           <IonSpinner name=\"dots\" class=\"connecting-spinner\"></IonSpinner>\n//         </IonAvatar>\n//         <IonLabel>\n//           <div className=\"device-name\">{this.props.name}</div>\n//           <div className=\"device-mac\">{this.props.mac}</div>\n//         </IonLabel>\n//       </IonItem>\n//     );\n//   }\n//   private connenct = async () => {\n//     const ic = document.getElementsByClassName(\"connecting-icons\")[0];\n//     const sp = document.getElementsByClassName(\"connecting-spinner\")[0];\n//     sp[\"style\"][\"opacity\"] = 1;\n//     ic[\"style\"][\"opacity\"] = 0;\n//     try { await this.tryConnect(); } \n//     catch(error) { this.switchIcon(false, sp, ic); }\n//     this.switchIcon(true, sp, ic);\n//   }\n//   private tryConnect() {\n//     return new Promise(function(resolve, reject) {\n//       console.log(\"connecting...\");\n//       setTimeout(function(){ resolve(1); }, 1000);\n//     });\n//   }\n//   private switchIcon(connected, sp, ic) {\n//     sp[\"style\"][\"opacity\"] = 0;\n//     ic[\"style\"][\"opacity\"] = 1;\n//     ic[\"style\"][\"color\"] = connected ? \"var(--ion-color-success)\" : \"var(--ion-color-danger)\";\n//     ic[\"icon\"] = connected ? checkmarkOutline : closeOutline;\n//   }\n// }\n// export default BluetoothDeviceItem;","map":{"version":3,"sources":["/Users/everyone/Desktop/iPhone app/magic-light/src/components/bluetooth/BluetoothDeviceItem.tsx"],"names":["React","useState","IonIcon","IonSpinner","IonItem","IonAvatar","IonLabel","bluetoothOutline","checkmarkOutline","closeOutline","BluetoothDeviceItem","Props","connectingState","setConnectingState","connenct","ic","document","getElementsByClassName","sp","tryConnect","error","switchIcon","Promise","resolve","reject","console","log","setTimeout","connected","name","mac"],"mappings":"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","sourcesContent":["\"use strict\";\n\nimport React, { useState } from 'react';\nimport { IonIcon, IonSpinner, IonItem, IonAvatar, IonLabel } from '@ionic/react';\nimport { bluetoothOutline, checkmarkOutline, closeOutline } from 'ionicons/icons';\n\nimport './BluetoothDeviceItem.css';\nimport { BluetoothDevice } from '../../interfaces/BluetoothDevice'\n\ninterface Props {\n  name: string;\n  mac: string;\n}\n\nexport const BluetoothDeviceItem = (Props) => {\n  const [ connectingState, setConnectingState ] = useState('not_connected');\n\n  const connenct = async () => {\n\n    setConnectingState('connecting')\n\n    const ic = document.getElementsByClassName(\"connecting-icons\")[0];\n    const sp = document.getElementsByClassName(\"connecting-spinner\")[0];\n    \n    sp[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"opacity\"] = 0;\n\n    try { await tryConnect(); } \n    catch(error) { switchIcon(false, sp, ic); }\n\n    setConnectingState('connected')\n\n    switchIcon(true, sp, ic);\n    \n  }\n\n  const tryConnect = () => {\n    return new Promise(function(resolve, reject) {\n      console.log(\"connecting...\");\n      setTimeout(function(){ resolve(1); }, 1000);\n    });\n  }\n\n  const switchIcon = (connected, sp, ic) => {\n    sp[\"style\"][\"opacity\"] = 0;\n    ic[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"color\"] = connected ? \"var(--ion-color-success)\" : \"var(--ion-color-danger)\";\n    ic[\"icon\"] = connected ? checkmarkOutline : closeOutline;\n  }\n\n\n  return (\n    <IonItem lines=\"none\" class=\"item-container\" onClick={connenct}>\n      <IonAvatar slot=\"start\" class=\"bluetooth-icon-container\">\n        <IonIcon icon={bluetoothOutline} class=\"bluetooth-icon\"></IonIcon>\n      </IonAvatar>\n      <IonAvatar slot=\"end\" class=\"connecting-icons-container\">\n        <IonIcon icon={closeOutline} class=\"connecting-icons\"></IonIcon>\n        <IonSpinner name=\"dots\" class=\"connecting-spinner\"></IonSpinner>\n      </IonAvatar>\n      <IonLabel>\n        <div className=\"device-name\">{Props.name}</div>\n        <div className=\"device-mac\">{Props.mac}</div>\n      </IonLabel>\n    </IonItem>\n  );\n\n}\nexport default BluetoothDeviceItem;\n\n\n// class BluetoothDeviceItem extends React.Component<Props, {}> {\n\n//   render() {\n//     return (\n//       <IonItem lines=\"none\" class=\"item-container\" onClick={this.connenct}>\n//         <IonAvatar slot=\"start\" class=\"bluetooth-icon-container\">\n//           <IonIcon icon={bluetoothOutline} class=\"bluetooth-icon\"></IonIcon>\n//         </IonAvatar>\n//         <IonAvatar slot=\"end\" class=\"connecting-icons-container\">\n//           <IonIcon icon={closeOutline} class=\"connecting-icons\"></IonIcon>\n//           <IonSpinner name=\"dots\" class=\"connecting-spinner\"></IonSpinner>\n//         </IonAvatar>\n//         <IonLabel>\n//           <div className=\"device-name\">{this.props.name}</div>\n//           <div className=\"device-mac\">{this.props.mac}</div>\n//         </IonLabel>\n//       </IonItem>\n//     );\n//   }\n\n//   private connenct = async () => {\n//     const ic = document.getElementsByClassName(\"connecting-icons\")[0];\n//     const sp = document.getElementsByClassName(\"connecting-spinner\")[0];\n    \n//     sp[\"style\"][\"opacity\"] = 1;\n//     ic[\"style\"][\"opacity\"] = 0;\n\n//     try { await this.tryConnect(); } \n//     catch(error) { this.switchIcon(false, sp, ic); }\n\n//     this.switchIcon(true, sp, ic);\n    \n//   }\n\n//   private tryConnect() {\n//     return new Promise(function(resolve, reject) {\n//       console.log(\"connecting...\");\n//       setTimeout(function(){ resolve(1); }, 1000);\n//     });\n//   }\n\n//   private switchIcon(connected, sp, ic) {\n//     sp[\"style\"][\"opacity\"] = 0;\n//     ic[\"style\"][\"opacity\"] = 1;\n//     ic[\"style\"][\"color\"] = connected ? \"var(--ion-color-success)\" : \"var(--ion-color-danger)\";\n//     ic[\"icon\"] = connected ? checkmarkOutline : closeOutline;\n//   }\n// }\n\n// export default BluetoothDeviceItem;"]},"metadata":{},"sourceType":"module"}