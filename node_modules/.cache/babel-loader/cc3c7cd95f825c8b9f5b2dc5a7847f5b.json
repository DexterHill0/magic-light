{"ast":null,"code":"import _regeneratorRuntime from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{IonIcon,IonSpinner,IonItem,IonAvatar,IonLabel}from'@ionic/react';import{bluetoothOutline,checkmarkOutline,closeOutline,ellipsisVertical}from'ionicons/icons';import'./BluetoothDeviceItem.css';var BluetoothDeviceItem=/*#__PURE__*/function(_React$Component){_inherits(BluetoothDeviceItem,_React$Component);var _super=_createSuper(BluetoothDeviceItem);function BluetoothDeviceItem(){var _this;_classCallCheck(this,BluetoothDeviceItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.connenct=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var ic,sp,ret;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ic=document.getElementsByClassName(\"connecting-icons\")[0];sp=document.getElementsByClassName(\"connecting-spinner\")[0];sp[\"style\"][\"opacity\"]=1;ic[\"style\"][\"opacity\"]=0;_context.prev=4;_context.next=7;return _this.tryConnect();case 7:ret=_context.sent;_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](4);_this.switchIcon(false,sp,ic);case 13:_this.switchIcon(true,sp,ic);case 14:case\"end\":return _context.stop();}}},_callee,null,[[4,10]]);}));return _this;}_createClass(BluetoothDeviceItem,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(IonItem,{lines:\"none\",class:\"item-container\",onClick:function onClick(){return _this2.connenct();}},/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\",class:\"bluetooth-icon-container\"},/*#__PURE__*/React.createElement(IonIcon,{icon:bluetoothOutline,class:\"bluetooth-icon\"})),/*#__PURE__*/React.createElement(IonAvatar,{slot:\"end\",class:\"connecting-icons-container\"},/*#__PURE__*/React.createElement(IonIcon,{icon:closeOutline,class:\"connecting-icons\"}),/*#__PURE__*/React.createElement(IonSpinner,{name:\"dots\",class:\"connecting-spinner\"})),/*#__PURE__*/React.createElement(IonAvatar,{slot:\"end\",class:\"group-icon-container\"},/*#__PURE__*/React.createElement(IonIcon,{icon:ellipsisVertical,class:\"group-icon\"})),/*#__PURE__*/React.createElement(IonLabel,null,/*#__PURE__*/React.createElement(\"div\",{className:\"device-name\"},\"this-is-a-really-long-device-name-for-some-reason\"),/*#__PURE__*/React.createElement(\"div\",{className:\"device-mac\"},\"00:04:ab:8f:40:hg\")));}},{key:\"tryConnect\",value:function tryConnect(){return new Promise(function(resolve,reject){console.log(\"connecting...\");setTimeout(function(){resolve(1);},1000);});}},{key:\"switchIcon\",value:function switchIcon(connected,sp,ic){sp[\"style\"][\"opacity\"]=0;ic[\"style\"][\"opacity\"]=1;ic[\"style\"][\"color\"]=connected?\"var(--ion-color-success)\":\"var(--ion-color-danger)\";ic[\"icon\"]=connected?checkmarkOutline:closeOutline;}}]);return BluetoothDeviceItem;}(React.Component);export default BluetoothDeviceItem;","map":{"version":3,"sources":["/Users/everyone/Desktop/iPhone app/magic-light/src/components/bluetooth/BluetoothDeviceItem.tsx"],"names":["React","IonIcon","IonSpinner","IonItem","IonAvatar","IonLabel","bluetoothOutline","checkmarkOutline","closeOutline","ellipsisVertical","BluetoothDeviceItem","connenct","ic","document","getElementsByClassName","sp","tryConnect","ret","switchIcon","Promise","resolve","reject","console","log","setTimeout","connected","Component"],"mappings":"28BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,CAAkBC,UAAlB,CAA8BC,OAA9B,CAAuCC,SAAvC,CAAkDC,QAAlD,KAAkE,cAAlE,CACA,OAASC,gBAAT,CAA2BC,gBAA3B,CAA6CC,YAA7C,CAA2DC,gBAA3D,KAA0F,gBAA1F,CAEA,MAAO,2BAAP,C,GAOMC,CAAAA,mB,2XA0BIC,Q,sEAAW,iJACXC,EADW,CACNC,QAAQ,CAACC,sBAAT,CAAgC,kBAAhC,EAAoD,CAApD,CADM,CAEXC,EAFW,CAENF,QAAQ,CAACC,sBAAT,CAAgC,oBAAhC,EAAsD,CAAtD,CAFM,CAIjBC,EAAE,CAAC,OAAD,CAAF,CAAY,SAAZ,EAAyB,CAAzB,CACAH,EAAE,CAAC,OAAD,CAAF,CAAY,SAAZ,EAAyB,CAAzB,CALiB,sCAOK,OAAKI,UAAL,EAPL,QAOPC,GAPO,gGAQF,MAAKC,UAAL,CAAgB,KAAhB,CAAuBH,EAAvB,CAA2BH,EAA3B,EARE,QAUjB,MAAKM,UAAL,CAAgB,IAAhB,CAAsBH,EAAtB,CAA0BH,EAA1B,EAViB,qE,8GAxBC,CACnB,C,uCAEQ,iBACP,mBACA,oBAAC,OAAD,EAAS,KAAK,CAAC,MAAf,CAAsB,KAAK,CAAC,gBAA5B,CAA8C,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACD,QAAL,EAAN,EAAvD,eACE,oBAAC,SAAD,EAAW,IAAI,CAAC,OAAhB,CAAwB,KAAK,CAAC,0BAA9B,eACE,oBAAC,OAAD,EAAS,IAAI,CAAEL,gBAAf,CAAiC,KAAK,CAAC,gBAAvC,EADF,CADF,cAIE,oBAAC,SAAD,EAAW,IAAI,CAAC,KAAhB,CAAsB,KAAK,CAAC,4BAA5B,eACE,oBAAC,OAAD,EAAS,IAAI,CAAEE,YAAf,CAA6B,KAAK,CAAC,kBAAnC,EADF,cAEE,oBAAC,UAAD,EAAY,IAAI,CAAC,MAAjB,CAAwB,KAAK,CAAC,oBAA9B,EAFF,CAJF,cAQE,oBAAC,SAAD,EAAW,IAAI,CAAC,KAAhB,CAAsB,KAAK,CAAC,sBAA5B,eACE,oBAAC,OAAD,EAAS,IAAI,CAAEC,gBAAf,CAAiC,KAAK,CAAC,YAAvC,EADF,CARF,cAWE,oBAAC,QAAD,mBACE,2BAAK,SAAS,CAAC,aAAf,sDADF,cAEE,2BAAK,SAAS,CAAC,YAAf,sBAFF,CAXF,CADA,CAkBD,C,+CAgBoB,CACnB,MAAO,IAAIU,CAAAA,OAAJ,CAAY,SAASC,OAAT,CAAkBC,MAAlB,CAA0B,CAC3CC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAC,UAAU,CAAC,UAAU,CAAEJ,OAAO,CAAC,CAAD,CAAP,CAAa,CAA1B,CAA4B,IAA5B,CAAV,CACD,CAHM,CAAP,CAID,C,8CAEkBK,S,CAAWV,E,CAAIH,E,CAAI,CACpCG,EAAE,CAAC,OAAD,CAAF,CAAY,SAAZ,EAAyB,CAAzB,CACAH,EAAE,CAAC,OAAD,CAAF,CAAY,SAAZ,EAAyB,CAAzB,CACAA,EAAE,CAAC,OAAD,CAAF,CAAY,OAAZ,EAAuBa,SAAS,CAAG,0BAAH,CAAgC,yBAAhE,CACAb,EAAE,CAAC,MAAD,CAAF,CAAaa,SAAS,CAAGlB,gBAAH,CAAsBC,YAA5C,CACD,C,iCApD+BR,KAAK,CAAC0B,S,EAuDxC,cAAehB,CAAAA,mBAAf","sourcesContent":["import React from 'react';\nimport { IonIcon, IonSpinner, IonItem, IonAvatar, IonLabel } from '@ionic/react';\nimport { bluetoothOutline, checkmarkOutline, closeOutline, ellipsisVertical, alert } from 'ionicons/icons';\n\nimport './BluetoothDeviceItem.css';\nimport { BluetoothDevice } from '../../interfaces/BluetoothDevice'\n\ninterface Props {\n  device: BluetoothDevice;\n}\n\nclass BluetoothDeviceItem extends React.Component {\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n    <IonItem lines=\"none\" class=\"item-container\"  onClick={() => this.connenct()}>\n      <IonAvatar slot=\"start\" class=\"bluetooth-icon-container\">\n        <IonIcon icon={bluetoothOutline} class=\"bluetooth-icon\"></IonIcon>\n      </IonAvatar>\n      <IonAvatar slot=\"end\" class=\"connecting-icons-container\">\n        <IonIcon icon={closeOutline} class=\"connecting-icons\"></IonIcon>\n        <IonSpinner name=\"dots\" class=\"connecting-spinner\"></IonSpinner>\n      </IonAvatar>\n      <IonAvatar slot=\"end\" class=\"group-icon-container\">\n        <IonIcon icon={ellipsisVertical} class=\"group-icon\"></IonIcon>\n      </IonAvatar>\n      <IonLabel>\n        <div className=\"device-name\">this-is-a-really-long-device-name-for-some-reason</div>\n        <div className=\"device-mac\">00:04:ab:8f:40:hg</div>\n      </IonLabel>\n    </IonItem>\n    );\n  }\n\n  private connenct = async () => {\n    const ic = document.getElementsByClassName(\"connecting-icons\")[0];\n    const sp = document.getElementsByClassName(\"connecting-spinner\")[0];\n    \n    sp[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"opacity\"] = 0;\n\n    try { let ret = await this.tryConnect(); } \n    catch(error) { this.switchIcon(false, sp, ic); }\n\n    this.switchIcon(true, sp, ic);\n    \n  }\n\n  private tryConnect() {\n    return new Promise(function(resolve, reject) {\n      console.log(\"connecting...\");\n      setTimeout(function(){ resolve(1); }, 1000);\n    });\n  }\n\n  private switchIcon(connected, sp, ic) {\n    sp[\"style\"][\"opacity\"] = 0;\n    ic[\"style\"][\"opacity\"] = 1;\n    ic[\"style\"][\"color\"] = connected ? \"var(--ion-color-success)\" : \"var(--ion-color-danger)\";\n    ic[\"icon\"] = connected ? checkmarkOutline : closeOutline;\n  }\n}\n\nexport default BluetoothDeviceItem;"]},"metadata":{},"sourceType":"module"}