{"ast":null,"code":"import _regeneratorRuntime from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/everyone/Desktop/iPhone app/magic-light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{IonIcon,IonSpinner,IonItem,IonAvatar,IonLabel}from'@ionic/react';import{bluetoothOutline,checkmarkOutline,closeOutline}from'ionicons/icons';import'./BluetoothDeviceItem.css';var BluetoothDeviceItem=/*#__PURE__*/function(_React$Component){_inherits(BluetoothDeviceItem,_React$Component);var _super=_createSuper(BluetoothDeviceItem);function BluetoothDeviceItem(props){var _this;_classCallCheck(this,BluetoothDeviceItem);_this=_super.call(this,props);_this.updateIcons=function(){var elementIndex=Array.prototype.slice.call(document.getElementsByClassName(\"device-list\")[0].children).findIndex(function(data){return data.id===_this.props.mac;});var connectingIcon=document.getElementsByClassName(\"connecting-icons\")[elementIndex][\"style\"];var spinnerIcon=document.getElementsByClassName(\"connecting-spinner\")[elementIndex][\"style\"];switch(_this.props.state()){case'not_connected':spinnerIcon.opacity=0;connectingIcon.color=\"var(--ion-color-danger)\";connectingIcon.opacity=1;_this.setState({icon:closeOutline});break;case'connecting':spinnerIcon.opacity=1;connectingIcon.opacity=0;_this.setState({icon:\"\"});break;case'connected':spinnerIcon.opacity=0;connectingIcon.opacity=1;connectingIcon.color=\"var(--ion-color-success)\";_this.setState({icon:checkmarkOutline});break;}};_this.rerender=function(){_this.updateIcons();};_this.wait=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.props.onClick(_this.props.mac);_this.rerender();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.state={icon:closeOutline};return _this;}_createClass(BluetoothDeviceItem,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(IonItem,{lines:\"none\",class:\"item-container\",id:this.props.mac,onClick:this.wait},/*#__PURE__*/React.createElement(IonAvatar,{slot:\"start\",class:\"bluetooth-icon-container\"},/*#__PURE__*/React.createElement(IonIcon,{icon:bluetoothOutline,class:\"bluetooth-icon\"})),/*#__PURE__*/React.createElement(IonAvatar,{slot:\"end\",class:\"connecting-icons-container\"},/*#__PURE__*/React.createElement(IonIcon,{icon:this.state.icon,class:\"connecting-icons\"}),/*#__PURE__*/React.createElement(IonSpinner,{name:\"dots\",class:\"connecting-spinner\"})),/*#__PURE__*/React.createElement(IonLabel,null,/*#__PURE__*/React.createElement(\"div\",{className:\"device-name\"},this.props.name?this.props.name:\"Unknown\"),/*#__PURE__*/React.createElement(\"div\",{className:\"device-mac\"},this.props.mac)));}}]);return BluetoothDeviceItem;}(React.Component);export default BluetoothDeviceItem;","map":{"version":3,"sources":["/Users/everyone/Desktop/iPhone app/magic-light/src/components/bluetooth/BluetoothDeviceItem.tsx"],"names":["React","IonIcon","IonSpinner","IonItem","IonAvatar","IonLabel","bluetoothOutline","checkmarkOutline","closeOutline","BluetoothDeviceItem","props","updateIcons","elementIndex","Array","prototype","slice","call","document","getElementsByClassName","children","findIndex","data","id","mac","connectingIcon","spinnerIcon","state","opacity","color","setState","icon","rerender","wait","onClick","name","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { IonIcon, IonSpinner, IonItem, IonAvatar, IonLabel} from '@ionic/react';\nimport { bluetoothOutline, checkmarkOutline, closeOutline, } from 'ionicons/icons';\n\nimport './BluetoothDeviceItem.css';\n\ninterface Props {\n\tname: string;\n\tmac: string;\n\tstate: () => string;\n\tonClick: (id) => void;\n}\ninterface State {\n\ticon: string;\n}\n\nclass BluetoothDeviceItem extends React.Component<Props, State> {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ticon: closeOutline,\n\t\t}\n\t}\n\n\tprivate updateIcons = () => {\n\t\tconst elementIndex = Array.prototype.slice.call(document.getElementsByClassName(\"device-list\")[0].children).findIndex((data) => {return data.id === this.props.mac});\n\n\t\tconst connectingIcon = document.getElementsByClassName(\"connecting-icons\")[elementIndex][\"style\"];\n\t\tconst spinnerIcon = document.getElementsByClassName(\"connecting-spinner\")[elementIndex][\"style\"];\n\n\t\tswitch (this.props.state()) {\n\t\t\tcase 'not_connected':\n\t\t\t\tspinnerIcon.opacity = 0;\n\t\t\t\tconnectingIcon.color = \"var(--ion-color-danger)\";\n\t\t\t\tconnectingIcon.opacity = 1;\n\t\t\t\tthis.setState({icon: closeOutline});\n\t\t\t\tbreak;\n\t\t\tcase 'connecting':\n\t\t\t\tspinnerIcon.opacity = 1;\n\t\t\t\tconnectingIcon.opacity = 0;\n\t\t\t\tthis.setState({icon: \"\"});\n\t\t\t\tbreak;\n\t\t\tcase 'connected':\n\t\t\t\tspinnerIcon.opacity = 0;\n\t\t\t\tconnectingIcon.opacity = 1;\n\t\t\t\tconnectingIcon.color = \"var(--ion-color-success)\";\n\t\t\t\tthis.setState({icon: checkmarkOutline});\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tpublic rerender = () => {\n\t\tthis.updateIcons();\n\t}\n\n\tprivate wait = async () => {\n\t\tthis.props.onClick(this.props.mac);\n\t\tthis.rerender();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<IonItem lines=\"none\" class=\"item-container\" id={this.props.mac} onClick={this.wait} >\n\t\t\t\t<IonAvatar slot=\"start\" class=\"bluetooth-icon-container\">\n\t\t\t\t\t<IonIcon icon={bluetoothOutline} class=\"bluetooth-icon\"></IonIcon>\n\t\t\t\t</IonAvatar>\n\t\t\t\t<IonAvatar slot=\"end\" class=\"connecting-icons-container\">\n\t\t\t\t\t<IonIcon icon={this.state.icon} class=\"connecting-icons\"></IonIcon>\n\t\t\t\t\t<IonSpinner name=\"dots\" class=\"connecting-spinner\"></IonSpinner>\n\t\t\t\t</IonAvatar>\n\t\t\t\t<IonLabel>\n\t\t\t\t\t<div className=\"device-name\">{this.props.name ? this.props.name : \"Unknown\"}</div>\n\t\t\t\t\t<div className=\"device-mac\">{this.props.mac}</div>\n\t\t\t\t</IonLabel>\n\t\t\t</IonItem>\n\t\t);\n\t}\n}\n\nexport default BluetoothDeviceItem;\n"]},"metadata":{},"sourceType":"module"}